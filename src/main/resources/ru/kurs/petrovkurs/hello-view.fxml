<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.layout.Region?>
<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="ru.kurs.petrovkurs.controller.HelloController"
            stylesheets="@main.css">

    <left>
        <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ Ð¼ÐµÐ½ÑŽ -->
        <VBox fx:id="menuBox" spacing="0" style="-fx-background-color: linear-gradient(to bottom, #2c3e50, #34495e); -fx-padding: 0;">

            <!-- Ð›Ð¾Ð³Ð¾Ñ‚Ð¸Ð¿/Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ -->
            <HBox alignment="CENTER" style="-fx-background-color: #1a252f; -fx-padding: 20 10;">
                <Label text="Ð¢Ðž ÐœÐ°ÑˆÐ¸Ð½" style="-fx-text-fill: white; -fx-font-size: 18; -fx-font-weight: bold;"/>
            </HBox>

            <!-- Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ -->
            <Rectangle height="1" fill="#4a6572"/>

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð¼ÐµÐ½ÑŽ Ñ Ð¸ÐºÐ¾Ð½ÐºÐ°Ð¼Ð¸ -->
            <VBox spacing="0" style="-fx-padding: 15 0;">
                <!-- Ð¡Ñ‚Ð°Ð½Ð¾Ðº -->
                <Button fx:id="btnMachines" onAction="#handleMachines"
                        style="-fx-background-color: transparent; -fx-text-fill: #bdc3c7; -fx-font-size: 14; -fx-padding: 12 20; -fx-alignment: CENTER_LEFT; -fx-border-width: 0 0 1 0; -fx-border-color: #4a6572;">
                    <graphic>
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="âš™ï¸" style="-fx-font-size: 16;"/>
                            <Label text="Ð¡Ñ‚Ð°Ð½ÐºÐ¸" style="-fx-text-fill: #bdc3c7;"/>
                        </HBox>
                    </graphic>
                </Button>

                <!-- ÐÐºÑ‚ Ð¢Ðž -->
                <Button fx:id="btnActs" onAction="#handleActs"
                        style="-fx-background-color: transparent; -fx-text-fill: #bdc3c7; -fx-font-size: 14; -fx-padding: 12 20; -fx-alignment: CENTER_LEFT; -fx-border-width: 0 0 1 0; -fx-border-color: #4a6572;">
                    <graphic>
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="ðŸ“‹" style="-fx-font-size: 16;"/>
                            <Label text="ÐÐºÑ‚Ñ‹ Ð¢Ðž" style="-fx-text-fill: #bdc3c7;"/>
                        </HBox>
                    </graphic>
                </Button>

                <!-- Ð“Ñ€Ð°Ñ„Ð¸Ðº Ð¢Ðž -->
                <Button fx:id="btnSchedule" onAction="#handleSchedule"
                        style="-fx-background-color: transparent; -fx-text-fill: #bdc3c7; -fx-font-size: 14; -fx-padding: 12 20; -fx-alignment: CENTER_LEFT; -fx-border-width: 0 0 1 0; -fx-border-color: #4a6572;">
                    <graphic>
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="ðŸ“Š" style="-fx-font-size: 16;"/>
                            <Label text="Ð“Ñ€Ð°Ñ„Ð¸Ðº Ð¢Ðž" style="-fx-text-fill: #bdc3c7;"/>
                        </HBox>
                    </graphic>
                </Button>

                <!-- Ð’Ð¸Ð´ Ð¢Ðž -->
                <Button fx:id="btnTypes" onAction="#handleTypes"
                        style="-fx-background-color: transparent; -fx-text-fill: #bdc3c7; -fx-font-size: 14; -fx-padding: 12 20; -fx-alignment: CENTER_LEFT; -fx-border-width: 0 0 1 0; -fx-border-color: #4a6572;">
                    <graphic>
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="ðŸ”§" style="-fx-font-size: 16;"/>
                            <Label text="Ð’Ð¸Ð´Ñ‹ Ð¢Ðž" style="-fx-text-fill: #bdc3c7;"/>
                        </HBox>
                    </graphic>
                </Button>

                <!-- ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ Ð¢Ðž -->
                <Button onAction="#openCalendarWindow"
                        style="-fx-background-color: transparent; -fx-text-fill: #bdc3c7; -fx-font-size: 14; -fx-padding: 12 20; -fx-alignment: CENTER_LEFT; -fx-border-width: 0 0 1 0; -fx-border-color: #4a6572;">
                    <graphic>
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="ðŸ“…" style="-fx-font-size: 16;"/>
                            <Label text="ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ" style="-fx-text-fill: #bdc3c7;"/>
                        </HBox>
                    </graphic>
                </Button>

                <!-- PDF Ð¾Ñ‚Ñ‡ÐµÑ‚ -->
                <Button fx:id="btnPdf" onAction="#btnPdfAction"
                        style="-fx-background-color: transparent; -fx-text-fill: #bdc3c7; -fx-font-size: 14; -fx-padding: 12 20; -fx-alignment: CENTER_LEFT; -fx-border-width: 0 0 1 0; -fx-border-color: #4a6572;">
                    <graphic>
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="ðŸ“„" style="-fx-font-size: 16;"/>
                            <Label text="PDF Ð¾Ñ‚Ñ‡ÐµÑ‚" style="-fx-text-fill: #bdc3c7;"/>
                        </HBox>
                    </graphic>
                </Button>

                <!-- Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ Ð¿ÐµÑ€ÐµÐ´ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸ÑÐ¼Ð¸ -->
                <VBox spacing="5" style="-fx-padding: 20 0 10 0;">
                    <Label text="Ð£Ð’Ð•Ð”ÐžÐœÐ›Ð•ÐÐ˜Ð¯" style="-fx-text-fill: #7f8c8d; -fx-font-size: 11; -fx-padding: 5 20; -fx-font-weight: bold;"/>
                </VBox>

                <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ Ñ ÑÑ‡ÐµÑ‚Ñ‡Ð¸ÐºÐ¾Ð¼ -->
                <StackPane style="-fx-padding: 0 20;">
                    <Button fx:id="btnClose" onAction="#toggleDetailsPane"
                            style="-fx-background-color: #3498db; -fx-background-radius: 5; -fx-text-fill: white; -fx-font-size: 14; -fx-padding: 10 15; -fx-alignment: CENTER_LEFT;">
                        <graphic>
                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <Label text="ðŸ””" style="-fx-font-size: 16;"/>
                                <Label text="Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ" style="-fx-text-fill: white;"/>
                            </HBox>
                        </graphic>
                    </Button>
                    <!-- Ð¡Ñ‡ÐµÑ‚Ñ‡Ð¸Ðº ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ -->
                    <Label fx:id="notificationCountLabel"
                           style="-fx-background-color: #e74c3c;
                                  -fx-text-fill: white;
                                  -fx-font-weight: bold;
                                  -fx-font-size: 12;
                                  -fx-min-width: 24;
                                  -fx-min-height: 24;
                                  -fx-pref-width: 24;
                                  -fx-pref-height: 24;
                                  -fx-alignment: center;
                                  -fx-background-radius: 12;
                                  -fx-border-color: #ffffff;
                                  -fx-border-width: 2;
                                  -fx-border-radius: 12;"
                           visible="false"
                           StackPane.alignment="TOP_RIGHT"
                           translateX="10"
                           translateY="-10"/>
                </StackPane>

                <!-- ÐŸÑ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÑ‚Ð²Ð¾ Ð²Ð½Ð¸Ð·Ñƒ -->
                <Region VBox.vgrow="ALWAYS"/>

                <!-- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ðµ/Ð²ÐµÑ€ÑÐ¸Ð¸ -->
                <VBox style="-fx-padding: 20 15 15 15; -fx-background-color: #1a252f;">
                    <Label text="v1.0.0" style="-fx-text-fill: #7f8c8d; -fx-font-size: 11;"/>
                    <Label text="Â© 2025 Ð¢Ðž ÐœÐ°ÑˆÐ¸Ð½" style="-fx-text-fill: #7f8c8d; -fx-font-size: 11;"/>
                </VBox>
            </VBox>

        </VBox>
    </left>

    <center>
        <StackPane fx:id="contentStack" style="-fx-background-color: #ecf0f1;"/>
    </center>

    <right>
        <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð´ÐµÑ‚Ð°Ð»ÐµÐ¹/ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ -->
        <VBox fx:id="detailsPane" styleClass="details-pane" visible="false" managed="false"
              style="-fx-background-color: white; -fx-border-color: #bdc3c7; -fx-border-width: 0 0 0 1;">

            <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ð¿Ð°Ð½ÐµÐ»Ð¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ -->
            <HBox style="-fx-background-color: #3498db; -fx-padding: 15; -fx-spacing: 10;" alignment="CENTER_LEFT">
                <Label text="ðŸ””" style="-fx-font-size: 18;"/>
                <Label text="ÐŸÑ€ÐµÐ´ÑÑ‚Ð¾ÑÑ‰Ð¸Ðµ Ð¢Ðž" style="-fx-text-fill: white; -fx-font-size: 16; -fx-font-weight: bold;"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="âœ•" onAction="#hideDetailsPane"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 16; -fx-font-weight: bold; -fx-padding: 0 0 0 10;"/>
            </HBox>

            <!-- ÐšÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ -->
            <ScrollPane fx:id="detailsScroll"
                        style="-fx-background: transparent; -fx-background-color: transparent; -fx-padding: 15;"
                        fitToWidth="true">
                <VBox style="-fx-spacing: 10;"/>
            </ScrollPane>

            <!-- ÐÐ¸Ð¶Ð½ÑÑ Ñ‡Ð°ÑÑ‚ÑŒ Ð¿Ð°Ð½ÐµÐ»Ð¸ -->
            <VBox style="-fx-padding: 15; -fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-width: 1 0 0 0;">
                <Label text="Ð’ÑÐµÐ³Ð¾ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹:" style="-fx-text-fill: #6c757d; -fx-font-size: 12;"/>
                <Label fx:id="totalNotificationsLabel" text="0" style="-fx-text-fill: #2c3e50; -fx-font-size: 24; -fx-font-weight: bold;"/>
            </VBox>
        </VBox>
    </right>
</BorderPane>